---
import { ChatBox } from "~/components/chat-box";
import { findChatBySlug } from "~/utils/chat-by-slug";
import { getPaths } from "~/utils/get-paths";

type Params = {
	slug: string;
};

const { slug } = Astro.params as Params;
const parsedChat = slug !== "_" ? await findChatBySlug(slug, { transform: true }) : undefined;

export async function getStaticPaths() {
	return getPaths();
}
---

<ChatBox chat={parsedChat} />
