---
import { ChatBox } from "~/components/chat-box";
import Layout from "~/components/Layout.astro";
import { findChatById } from "~/utils/chat-by-id";

type Params = {
	id: string;
};

const { id } = Astro.params as Params;
const chats = await Astro.glob("../../../chats/**/exported.json");
const parsedChat = await findChatById(id, chats);
---

<Layout>
	<ChatBox chat={parsedChat} client:load />
</Layout>
